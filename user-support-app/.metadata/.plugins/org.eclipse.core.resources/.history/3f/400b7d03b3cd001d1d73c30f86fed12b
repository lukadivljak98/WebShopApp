<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
    <%@ page import="java.util.*" %>
<%@ page import="net.etfbl.ip.beans.MessageBean, net.etfbl.ip.Message" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
	<title>Messages</title>
	<link rel="stylesheet" type="text/css" href="styles/style.css"></link>
</head>
<body>
	<h1>Messages</h1>
	<table class="table">
        <tr>
            <th style="width: 200px">Username</th>
            <th style="width: 200px">Message</th>
            <th style="width: 200px">Actions</th>
        </tr>

        <%
            MessageBean messageBean = new MessageBean();
            List<Message> messages = messageBean.getMessages();

            for (Message message : messages) {
        %>
        <tr>
            <td><%= message.getAppUser().getUsername() %></td>
            <td><%= message.getText() %></td>
            <td><a href="respond.jsp?id=<%= message.getId() %>">Respond</a></td>
        </tr>
        <%
            }
        %>
    </table>
</body>
</html>